{"version":3,"file":"ordered-parallel.mjs","sources":["../../../../src/services/document-service/utils/ordered-parallel.ts"],"sourcesContent":["/**\n * Run tasks together but keep the same error order.\n */\nexport const runParallelWithOrderedErrors = async <T>(promises: Promise<T>[]): Promise<T[]> => {\n  const results = await Promise.allSettled(promises);\n\n  // Throw first error in array index order (matches sequential behavior)\n  for (let i = 0; i < results.length; i += 1) {\n    const result = results[i];\n    if (result.status === 'rejected') {\n      throw result.reason;\n    }\n  }\n\n  return results.map((r) => (r as PromiseFulfilledResult<T>).value);\n};\n"],"names":["runParallelWithOrderedErrors","promises","results","Promise","allSettled","i","length","result","status","reason","map","r","value"],"mappings":"AAAA;;IAGaA,MAAAA,4BAAAA,GAA+B,OAAUC,QAAAA,GAAAA;AACpD,IAAA,MAAMC,OAAU,GAAA,MAAMC,OAAQC,CAAAA,UAAU,CAACH,QAAAA,CAAAA;;IAGzC,IAAK,IAAII,IAAI,CAAGA,EAAAA,CAAAA,GAAIH,QAAQI,MAAM,EAAED,KAAK,CAAG,CAAA;QAC1C,MAAME,MAAAA,GAASL,OAAO,CAACG,CAAE,CAAA;QACzB,IAAIE,MAAAA,CAAOC,MAAM,KAAK,UAAY,EAAA;AAChC,YAAA,MAAMD,OAAOE,MAAM;AACrB;AACF;AAEA,IAAA,OAAOP,QAAQQ,GAAG,CAAC,CAACC,CAAM,GAACA,EAAgCC,KAAK,CAAA;AAClE;;;;"}